<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Responsive Pool Table</title>
<style>
    body { 
        margin: 0; 
        padding: 0; 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        font-family: sans-serif; 
        background: #222;
        color: #fff;
    }
    #instructions { margin: 10px; text-align: center; }
    canvas { display: block; margin: auto; border: 2px solid #333; }
    #controls { margin: 10px; }
</style>
</head>
<body>
<h1>Responsive Pool Table ðŸŽ±</h1>
<div id="instructions">Resize window or rotate device: table adjusts automatically.</div>
<canvas id="poolCanvas"></canvas>

<script>
// Canvas setup
const canvas = document.getElementById('poolCanvas');
const ctx = canvas.getContext('2d');

// Table style
const tableStyle = {
    feltColor: '#0a5d2f',
    railColor: '#654321',
    diamondColor: '#fff',
    pocketColor: '#000'
};

// Table geometry
let table = { x:0, y:0, width:0, height:0, railWidth:30, pocketRadius:18 };
let diamonds = [];

// Initialize table
function setupTable() {
    const canvasW = canvas.width;
    const canvasH = canvas.height;
    const isPortrait = canvasH > canvasW;

    // Max dimensions that fit in canvas with some padding
    const padding = 40;
    const maxW = canvasW - padding*2;
    const maxH = canvasH - padding*2;

    let shortSide, longSide;

    if(isPortrait){
        // Portrait: table taller than wide
        shortSide = Math.min(maxW, maxH / 2);
        longSide = shortSide * 2;
    } else {
        // Landscape: table wider than tall
        shortSide = Math.min(maxH, maxW / 2);
        longSide = shortSide * 2;
    }

    if(isPortrait){
        table.width = shortSide;
        table.height = longSide;
    } else {
        table.width = longSide;
        table.height = shortSide;
    }

    // Center table on canvas
    table.x = (canvasW - table.width) / 2;
    table.y = (canvasH - table.height) / 2;

    // Diamonds (same as before, relative positions)
    diamonds = [];
    const positions = [0.1, 0.25, 0.5, 0.75, 0.9];

    // Top & bottom rails
    positions.forEach(p => {
        diamonds.push({x: table.x + table.width*p, y: table.y + table.railWidth/2});
        diamonds.push({x: table.x + table.width*p, y: table.y + table.height - table.railWidth/2});
    });

    // Left & right rails
    positions.forEach(p => {
        diamonds.push({x: table.x + table.railWidth/2, y: table.y + table.height*p});
        diamonds.push({x: table.x + table.width - table.railWidth/2, y: table.y + table.height*p});
    });
}

// Draw table
function drawTable() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Draw felt
    ctx.fillStyle = tableStyle.feltColor;
    ctx.fillRect(table.x, table.y, table.width, table.height);

    // Draw rails
    ctx.fillStyle = tableStyle.railColor;
    // Top
    ctx.fillRect(table.x - table.railWidth, table.y - table.railWidth, table.width + 2*table.railWidth, table.railWidth);
    // Bottom
    ctx.fillRect(table.x - table.railWidth, table.y + table.height, table.width + 2*table.railWidth, table.railWidth);
    // Left
    ctx.fillRect(table.x - table.railWidth, table.y, table.railWidth, table.height);
    // Right
    ctx.fillRect(table.x + table.width, table.y, table.railWidth, table.height);

    // Draw diamonds
    ctx.fillStyle = tableStyle.diamondColor;
    diamonds.forEach(d => {
        ctx.beginPath();
        ctx.arc(d.x, d.y, 5, 0, Math.PI*2);
        ctx.fill();
    });

    // Draw pockets
    ctx.fillStyle = tableStyle.pocketColor;
    const pockets = [
        {x: table.x, y: table.y},
        {x: table.x + table.width/2, y: table.y},
        {x: table.x + table.width, y: table.y},
        {x: table.x, y: table.y + table.height},
        {x: table.x + table.width/2, y: table.y + table.height},
        {x: table.x + table.width, y: table.y + table.height}
    ];
    pockets.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, table.pocketRadius, 0, Math.PI*2);
        ctx.fill();
    });
}

// Resize handler
function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight * 0.8;
    setupTable();
    drawTable();
}

window.addEventListener('resize', resizeCanvas);
resizeCanvas(); // initial draw
</script>
</body>
</html>
